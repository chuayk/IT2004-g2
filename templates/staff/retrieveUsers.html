{% extends 'layouts/base.html' %}

{% block PageContent %}




<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
    tr img {
        width: 50px;
    }

    body {
        color: #black;
        background: #f5f5f5;
        font-family: 'Varela Round', sans-serif;
        font-size: 14px;
    }

    .table-responsive {
        margin: 75px 0;
    }

    .table-wrapper {
        min-width: 1000px;
        background: #fff;
        padding: 20px 25px;
        border-radius: 3px;
        box-shadow: 0 1px 1px rgba(0, 0, 0, .05);
    }

    .table-title {
        padding-bottom: 15px;
        background: black;
        color: #fff;
        padding: 16px 30px;
        margin: -20px -25px 10px;
        border-radius: 3px 3px 0 0;
    }

    .table-title h2 {
        margin: 5px 0 0;
        font-size: 24px;
    }

    .table-title .btn {
        color: #566787;
        float: right;
        font-size: 13px;
        background: #fff;
        border: none;
        min-width: 50px;
        border-radius: 2px;
        border: none;
        outline: none !important;
        margin-left: 10px;
    }

    .table-title .btn:hover,
    .table-title .btn:focus {
        color: #566787;
        background: #f2f2f2;
    }

    .table-title .btn i {
        float: left;
        font-size: 21px;
        margin-right: 5px;
    }

    .table-title .btn span {
        float: left;
        margin-top: 2px;
    }

    table.table tr th,
    table.table tr td {
        border-color: #e9e9e9;
        padding: 12px 15px;
        vertical-align: middle;
    }

    table.table tr th:first-child {
        width: 60px;
    }

    table.table tr th:last-child {
        width: 100px;
    }

    table.table-striped tbody tr:nth-of-type(odd) {
        background-color: #fcfcfc;
    }

    table.table-striped.table-hover tbody tr:hover {
        background: #f5f5f5;
    }

    table.table th i {
        font-size: 13px;
        margin: 0 5px;
        cursor: pointer;
    }

    table.table td:last-child i {
        opacity: 0.9;
        font-size: 22px;
        margin: 0 5px;
    }

    table.table td a {
        font-weight: bold;
        color: #566787;
        display: inline-block;
        text-decoration: none;
    }

    table.table td a:hover {
        color: #2196F3;
    }

    table.table td a.settings {
        color: #2196F3;
    }

    table.table td a.delete {
        color: #F44336;
    }

    table.table td i {
        font-size: 19px;
    }

    table.table .avatar {
        border-radius: 50%;
        vertical-align: middle;
        margin-right: 10px;
    }

    .status {
        font-size: 30px;
        margin: 2px 2px 0 0;
        display: inline-block;
        vertical-align: middle;
        line-height: 10px;
    }

    .text-success {
        color: #10c469;
    }

    .text-info {
        color: #62c9e8;
    }

    .text-warning {
        color: #FFC107;
    }

    .text-danger {
        color: #ff5b5b;
    }

    .pagination {
        float: right;
        margin: 0 0 5px;
    }

    .pagination li a {
        border: none;
        font-size: 13px;
        min-width: 30px;
        min-height: 30px;
        color: #999;
        margin: 0 2px;
        line-height: 30px;
        border-radius: 2px !important;
        text-align: center;
        padding: 0 6px;
    }

    .pagination li a:hover {
        color: #666;
    }

    .pagination li.active a,
    .pagination li.active a.page-link {
        background: #03A9F4;
    }

    .pagination li.active a:hover {
        background: #0397d6;
    }

    .pagination li.disabled i {
        color: #ccc;
    }

    .pagination li i {
        font-size: 16px;
        padding-top: 6px
    }

    .hint-text {
        float: left;
        margin-top: 10px;
        font-size: 13px;
    }

    .display-4 {
        margin: auto;
    }
</style>
<h1 class="display-4" style="text-align: center; padding-bottom: 25px; padding-top: 30px;font-style: ">User Account
    Management </h1>
<p style="text-align: center; font-weight: bold;">Note for admin: click on <span
        style="text-decoration: underline">user's picture</span>
    to look at <strong>order list.</strong></p>

<!--<div style="text-align: center; font-size: 20px">-->
<!--  {% if count == 0 %}-->
<!--  <p>There are no users.</p>-->
<!--  {% elif count == 1 %}-->
<!--  <p>There is 1 user.</p>-->
<!--  {% else %}-->
<!--  <p>There are {{ count }} users.</p>-->
<!--  {% endif %}-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="card-deck" style="margin-bottom:-40px">-->
<!--        <div class="card" style="width:400px">-->
<!--            <div class="card-body">-->
<!--                <h4 class="card-title" style="text-align:center;"><img style="width: 50px;"-->
<!--                                                                       src="https://lh3.googleusercontent.com/pJ4z__rqfGhiz1be1WUGdav4knyr7SZ1yxLfkCKoZhre7G5vcWcJP35iM3Tr_TAaSZVm">-->
<!--                    <p>Online</p></h4>-->
<!--                <p class="card-text" style="text-align:center;">-->
<!--                    <div style="text-align: center; font-size: 17px">-->
<!--                <p>There is <span style="color:#33b2ff">1</span> user.</p>-->
<!--            </div>-->
<!--            </p>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="card" style="width:400px">-->
<!--        <div class="card-body">-->
<!--            <h4 class="card-title" style="text-align:center;"><img style="width: 50px;"-->
<!--                                                                   src="https://icon-library.com/images/active-icon/active-icon-15.jpg">-->
<!--                <p>Active</p></h4>-->
<!--            <p class="card-text" style="text-align:center;">-->
<!--                <div style="text-align: center; font-size: 17px">-->
<!--                    {% if active_count == 0 %}-->
<!--            <p>There are no users.</p>-->
<!--            {% elif active_count == 1 %}-->
<!--            <p>There is <span style="color:#33b2ff">1</span> user.</p>-->
<!--            {% else %}-->
<!--            <p>There are <span style="color:#33b2ff">{{ active_count }}</span> users.</p>-->
<!--            {% endif %}-->
<!--        </div>-->
<!--        </p>-->
<!--    </div>-->
<!--</div>-->



<!--<div class="card" style="width:400px">-->
<!--    <div class="card-body">-->
<!--        <h4 class="card-title" style="text-align:center;"><img style="width: 50px;"-->
<!--                                                               src="https://cdn.onlinewebfonts.com/svg/img_298493.png">-->
<!--            <p>Inactive</p></h4>-->
<!--        <p class="card-text" style="text-align:center;">-->
<!--            <div style="text-align: center; font-size: 17px">-->
<!--                {% if inactive_count == 0 %}-->
<!--        <p>There are no users.</p>-->
<!--        {% elif inactive_count == 1 %}-->
<!--        <p>There is <span style="color:#33b2ff">1</span> user.</p>-->
<!--        {% else %}-->
<!--        <p>There are <span style="color:#33b2ff">{{ inactive_count }}</span> users.</p>-->
<!--        {% endif %}-->
<!--    </div>-->
<!--    </p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->


<div class="container">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-xs-5">
                        <h2>User <b>Management</b></h2>
                    </div>
                    <div class="col-xs-7">
                        <a href="createUsers" class="btn btn-primary"><i class="material-icons">&#xE147;</i> <span>Add
                                New User</span></a>
                    </div>
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Date created</th>
                        <th>Role</th>
                        <!-- <th>Status</th> -->
                        <th>Action</th>
                        <th></th>
                        <th></th>
                    </tr>

                </thead>
                <tbody>
                    {% for user in users_list %}
                    <tr>
                        <td>{{user.id}}</td>
                        <td>
                            <a href="#" data-toggle="modal" data-target="#bannerformmodal{{ user.username}}"><img
                                    src="https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png"
                                    class="avatar" alt="Avatar">
                                <div class="modal fade bannerformmodal{{user.username}}" tabindex="-1" role="dialog"
                                    aria-labelledby="bannerformmodal" aria-hidden="true"
                                    id="bannerformmodal{{ user.username}}">
                                    <div class="modal-dialog modal-sm">
                                        <div class="modal-content">
                                            <div class="modal-content">

                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"
                                                        aria-hidden="true">
                                                        &times;
                                                    </button>
                                                    <h4 class="modal-title" id="myModalLabel"
                                                        style="position:absolute; left:55px;">{{ user.username }}'s
                                                        profile </h4></div>

                                                        <div class="modal-body" style="color: black; text-align: center">
                                                            <p><span style="color: red">Name: </span><br>{{ user.username }} </p>
                                                            <p><span style="color: red">Address: </span><br>Gravitas</p>
                                                            <p>
                                                                <a href="" class="btn btn-warning">Items info</a>
                                                            </p>
                                                        </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            {{user.username}}
                        </td>
                        <td>{{user.email}}</td>
                        <td>{{user.username}}</td>
                        <td>{{user.username}}</td>
                        <td>
                            <a href="updateUsers" class="btn btn-warning">Update</a></t>
                        </td>
                        <td>
                            <form action="retrieveUsers/?id={{user.username}}" method="POST">
                                <button type="button" id="delBtn" class="btn btn-danger" data-toggle="modal" data-target="#myModal_{{user.username}}">
                                    Delete
                                </button>
                                                            <!-- The Modal -->
                            <div class="modal" id="myModal_{{user.username}}">
                                <div class="modal-dialog">
                                    <div class="modal-content">

                                        <!-- Modal Header -->
                                        <div class="modal-header">
                                            <h4 class="modal-title">Delete Confirmation</h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>

                                        <!-- Modal body -->
                                        <div class="modal-body">
                                            Are you sure you want to delete {{user.username}}?
                                        </div>

                                        <!-- Modal footer -->
                                        <div class="modal-footer">
                                            <input type="submit" value="Delete" class="btn btn-danger">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                                Cancel
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        </div>
    </div>
</div>
<br>

<script>
window.onload = function() {
	if(!window.location.hash) {
		window.location = window.location + '#loaded';
		window.location.reload();
	}
}  
</script>

{% endblock %}