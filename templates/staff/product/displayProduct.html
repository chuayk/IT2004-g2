{% extends "layouts/base.html" %}
{% block title %}Update/Delete Product{% endblock %}
{% block PageContent %}


<<<<<<< HEAD

<div class="tab-pane container-fluid active" id="updateDelete">
  <h1 class="display-4 text-center">Update/Delete Products</h1>
  <div class="btn-group">
    <button type="button" class="btn btn-primary">Update/Delete Products</button>
      <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">
        <span class="caret"></span>
      </button>
      <div class="dropdown-menu">
        <a class="dropdown-item" href="/staff/createProduct">Create Products</a>
      </div>
  </div>
   <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal">Alerts</button>
  <hr>
  <div>
    <table class="table table-striped text-center ">
      <thead>
        <tr >
  
          <th>Category</th>
          <th>Product Name</th>
          <th>Price</th>
          <th>Stock Count</th>
          <th>Description</th>
          <th>Pic</th>
        </tr>
      </thead>
      <tbody>
      {%for product in product_list%}
      {%if product.stock_count <= 0%}
        <tr class="table-danger">
          <td>{{product.pname}}</td>
          <td>{{product.category}}</td>
          <td>${{product.price}}</td>
          <td>{{product.stockCount}}</td>
          <td>{{product.description}}</td>
          <td><img src="/{{path}}"></td>
          <td><a href="" class="btn btn-warning">Update</a></td>
          <td>
            <form action="" method="POST">
               <button type="button" class="btn btn-danger" data-toggle="modal" data-target="">
              Delete
            </button>
                          <div class="modal" id="">
              <div class="modal-dialog">
                <div class="modal-content">

                  <!-- Modal Header -->
                  <div class="modal-header">
                    <h4 class="modal-title">Delete Confirmation</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>

                  <!-- Modal body -->
                  <div class="modal-body">
                    Are you sure you want to delete ?
                  </div>

                  <!-- Modal footer -->
                  <div class="modal-footer">
                    <input type="submit" value="Delete" class="btn btn-danger">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  </div>

                </div>
              </div>
            </div>
            </form>
          </td>
        </tr>
        {% else %}
        <tr>
            <td>{{product.pname}}</td>
            <td>{{product.category}}</td>
            <td>${{product.price}}</td>
            <td>{{product.stockCount}}</td>
            <td>{{product.description}}</td>
            <td><a href="" class="btn btn-warning">Update</a></td>
            <td>
              <form action="" method="POST">
                 <button type="button" class="btn btn-danger" data-toggle="modal" data-target="">
                Delete
              </button>
                            <div class="modal" id="">
                <div class="modal-dialog">
                  <div class="modal-content">
  
                    <!-- Modal Header -->
                    <div class="modal-header">
                      <h4 class="modal-title">Delete Confirmation</h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
  
                    <!-- Modal body -->
                    <div class="modal-body">
                      Are you sure you want to delete ?
                    </div>
  
                    <!-- Modal footer -->
                    <div class="modal-footer">
                      <input type="submit" value="Delete" class="btn btn-danger">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    </div>
  
                  </div>
                </div>
              </div>
              </form>
            </td>
          </tr>
      {% endif %}
      {% endfor %}
      </tbody>
    </table>

      <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header display-4 text-center ">
          <h4 class="display-4 text-center">Products that are out of stock</h4>
        </div>
        <div class="modal-body">
          {%if alertlist|length == 0%}
          <p>No products are out of stock</p>
          {% else %}
           <table class="table table-striped text-center ">
          <thead>
            <tr>
              <th>Product ID</th>
              <th>Category</th>
              <th>Product Name</th>
              <th>Price</th>
              <th>Stock Count</th>

              <th>Pic</th>

            </tr>
          </thead>
          <tbody>

          {%for product in alertlist%}
            <tr class="table-danger">
              <td>{{product.get_product_id()}}</td>
              <td>{{product.get_category()}}</td>
              <td>{{product.get_product_name()}}</td>
              <td>${{product.get_price()}}</td>
              <td>{{product.get_stock_count()}}</td>

              {%set image = image_name+"/"+product.get_picture()+".png" %}
              <td><img width="40%"  src={{image}} alt=""></td>
              <td><a href="/updateProduct/{{product.get_product_id()}}" class="btn btn-warning">Update</a></td>

            </tr>
          {% endfor %}
          </tbody>
        </table>
          {% endif %}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>


  </div>
=======
<link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">

<script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table-locale-all.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/export/bootstrap-table-export.min.js"></script>

<style>
  .select,
  #locale {
    width: 100%;
  }

  .like {
    margin-right: 10px;
  }
</style>
<div id="toolbar">
  <button id="remove" class="btn btn-danger" disabled>
    <i class="fa fa-trash"></i> Delete
  </button>
>>>>>>> xuanyeh
</div>

<table  	
data-toggle="table"
data-url="/staff/displayProduct-data">
<thead>
  <tr>
    <th data-field="uuid">ID</th>
    <th data-field="pname">Item Name</th>
    <th data-field="price">Item Price</th>
  </tr>
</thead>
</table>
<script>
  $('#table').bootstrapTable({
  url: "/staff/displayProduct-data",
  columns: [{
    field: 'uuid',
    title: 'Item ID'
  }, {
    field: 'pname',
    title: 'Item Name'
  }, {
    field: 'price',
    title: 'Item Price'
  }]
})
</script>
{% endblock %}